<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>cookie</title>
	<script type="text/javascript" src="cookie.js"></script>
</head>
<body>
	<form method="post" action="">
		<div>
			用户名：
			<input type="text" id="username">
		</div>
		<div>
			密码：
			<input type="password" id="pwd">
		</div>
		<div>
			<input type="checkbox" id="pwdFlag">
			是否记住密码
		</div>
		<div>
			<a href="javascript:void(0);" id="submitBtn">提交</a>
		</div>
	</form>
	<script type="text/javascript">
	//如果之前勾选上了免登录，直接跳转success.html
	if(getCookie("pwdFlag")) {
		location.href = "success.html";
	}

	var username = document.getElementById("username")
	var pwd = document.getElementById("pwd");
	var pwdFlag = document.getElementById("pwdFlag");
	var submitBtn = document.getElementById("submitBtn");

	//判断cookie里边是否保存了用户名
	if(getCookie("username")) {
		username.value = getCookie("username");
	}
	submitBtn.onclick = function() {
		setCookie("username", username.value, 30);
		if(pwdFlag.checked) {
			setCookie("pwdFlag", pwdFlag.checked, 10);
		}else {
			clearCookie("pwdFlag", "", -1);
		}
		
		//省略数据库的验证
		location.href = "success.html";
	}
	</script>
</body>
</html>