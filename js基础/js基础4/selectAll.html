<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<input type="button" value="全选" id="all">
	<input type="button" value="反选" id="reverse">
	<input type="checkbox" id="flagCheck">
	<ul id="checkboxList">
		<li><input type="checkbox"></li>
		<li><input type="checkbox"></li>
		<li><input type="checkbox"></li>
		<li><input type="checkbox"></li>
		<li><input type="checkbox"></li>
		<li><input type="checkbox"></li>
		<li><input type="checkbox"></li>
		<li><input type="checkbox"></li>
		<li><input type="checkbox"></li>
		<li><input type="checkbox"></li>
		<li><input type="checkbox"></li>
	</ul>
	<script>
	var allBtn = document.getElementById("all");
	var reverseBtn = document.getElementById("reverse");
	var flagBtn = document.getElementById("flagCheck");
	var checkboxList = document.getElementById("checkboxList").getElementsByTagName("input");
	allBtn.onclick = function() {
		if(!flagBtn.checked) {
			flagBtn.checked = true;
			for(var i = 0; i < checkboxList.length; i++ ) {
				checkboxList[i].checked = true;
			}
		}else {
			flagBtn.checked = false;
			for(var i = 0; i < checkboxList.length; i++ ) {
				checkboxList[i].checked = false;
			}
		}
	}
	reverseBtn.onclick = function() {
		for(var i = 0 ; i < checkboxList.length; i++) {
			if(checkboxList[i].checked) {
				checkboxList[i].checked = false;
			}else {
				checkboxList[i].checked = true;
			}
		}
		checkAll();
	}
	function checkAll() {
		for(var j = 0; j < checkboxList.length; j++) {
			if(!checkboxList[j].checked)
				break;
		}
		if(j == checkboxList.length){
			flagBtn.checked = true;
		}else {
			flagBtn.checked = false;
		}
	}
	for(var i = 0 ; i < checkboxList.length; i++) {
		checkboxList[i].onclick = checkAll;
	}
	</script>
</body>
</html>