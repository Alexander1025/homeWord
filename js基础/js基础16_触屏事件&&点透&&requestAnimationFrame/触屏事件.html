<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
		<style>
			#block {
				width:200px;
				height:200px;
				background-color: red;
				position: absolute;
				left: 0;
				top: 0;
			}
		</style>
	</head>
	<body>
		<div>
			touchstart,touchmove,
			touchend,touchcancel
			<p>
				高级程序设计 399页
			</p>
		</div>
		<div id="block"></div>
		<script>
			var block = document.getElementById("block");
			block.addEventListener("touchstart", function(e) {
				console.log(e);
				var touches = e.touches[0];
				var oW = touches.clientX - block.offsetLeft;
				var oH = touches.clientY - block.offsetTop;
				block.addEventListener("touchmove", bmove,false);
				function bmove(e){
					var touches = e.touches[0];
					var oLeft = touches.clientX - oW;
					var oTop = touches.clientY - oH;
					block.style.left = oLeft + "px";
					block.style.top = oTop + "px";
				}
				block.addEventListener("touchend",function() {
					block.removeEventListener("touchmove", bmove,false);
				})
			},false)
			
//			block.ontouchstart = function(e) {
//				console.log(e);//不推荐使用on这种方式绑定触屏事件，难以调试
//			}
		</script>
	</body>
</html>















