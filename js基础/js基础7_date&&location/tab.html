<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		* {margin:0; padding: 0}
		button {
			width: 50px;
		}
		p {
			text-align: center;
		}
		.active {
			background-color: yellow;
		}
		#wrap {
			width:510px;
			position: relative;
			overflow: hidden;
			margin:0 auto;
		}
		#wrap > p {
			position: absolute;
			bottom: 10px;
			left:0;
			width:100%;
			text-align: center;
		}
		#inner {
			width:9999px;
			overflow: hidden;
			position: relative;
			left:0;
		}
		#inner a {
			float: left;
		}
		#inner img {
			display: block;
			width:510px;
		}
	</style>

</head>
<body>
	
	<div id="wrap">
		<div id="inner">
			<a href="###"><img src="img/1.jpg"></a>
			<a href="###"><img src="img/2.jpg"></a>
			<a href="###"><img src="img/3.jpg"></a>
			<a href="###"><img src="img/4.jpg"></a>
			<a href="###"><img src="img/5.jpg"></a>
			<a href="###"><img src="img/6.jpg"></a>
			<a href="###"><img src="img/7.jpg"></a>
			<a href="###"><img src="img/8.jpg"></a>
		</div>
		<p>
			<button class="active">1</button>
			<button>2</button>
			<button>3</button>
			<button>4</button>
			<button>5</button>
			<button>6</button>
			<button>7</button>
			<button>8</button>
		</p>
	</div>
	<div>
		<a href="javascript:void(0);" id="prevBtn">上一张</a>
		<a href="javascript:void(0);" id="nextBtn">下一张</a>
	</div>
	
	<script type="text/javascript">
	//1.找节点
	var buttonList = document.getElementsByTagName("button");
	var inner = document.getElementById("inner");
	var perWidth = inner.children[0].offsetWidth;
	var wrap = document.getElementById("wrap");
	var prevBtn = document.getElementById("prevBtn");
	var nextBtn = document.getElementById("nextBtn");
	var index = 0;
	var timer = 0;
	timer = setInterval(next,1000);

	function tab() {
		inner.style.left = -perWidth * index + "px";
		for(var i = 0; i < buttonList.length; i++) {
			buttonList[i].className = "";
		}
		buttonList[index].className = "active";
	}
	function next() {
		index++;
		if(index > buttonList.length - 1) {
			index = 0;
		}
		tab();
	}
	function prev() {
		index--;
		if(index < 0) {
			index = buttonList.length - 1;
		}
		tab();
	}
	wrap.onmouseover = function() {
		clearInterval(timer);
	}
	wrap.onmouseout = function() {
		timer = setInterval(next,1000);
	}

	for(var i = 0; i < buttonList.length; i++) {
		buttonList[i].index = i;
		buttonList[i].onclick = function() {
			index = this.index;
			// inner.style.left = -perWidth * index + "px";
			// for(var j = 0; j< buttonList.length;j++) {
			// 	buttonList[j].className = "";
			// }
			// buttonList[index].className = "active";
			tab();
		}
	}

	//下一张
	nextBtn.onclick = function() {
		clearInterval(timer);
		next();
		timer = setInterval(next,1000);
	}

	//上一张 
	prevBtn.onclick = function() {
		clearInterval(timer);
		prev();
		timer = setInterval(next,1000);
	}
	</script>
</body>
</html>