<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>getBoundingClientRect</title>
		<style>
			body {
				height: 2000px;
			}
			#block {
				width:200px;
				height: 100px;
				border:20px solid red;
				padding: 20px;
				overflow: hidden;
			}
		</style>
	</head>
	<body>
		<div id="block">
		</div>
		<div>
			element.getBoundingClientRect()
			left,top -----》视口坐标
		</div>
		<div>
			文档坐标跟视口坐标的转换
			文档坐标{"left":x,"top":y}
			element.getBoundingClientRect()---》
			文档坐标 = 窗口滚动条的高度 + getBoundingClientRect()
		</div>
		
		<script>
			var block = document.getElementById("block");
			//获取元素的文档坐标
			function documentCoor(element) {
				var x = element.offsetLeft;
				var y = element.offsetTop;
				while(element.offsetParent) {
					x = x + element.offsetParent.offsetLeft + element.offsetParent.clientLeft;
					y = y +element.offsetParent.offsetLeft + element.offsetParent.clientTop;
					element = element.offsetParent;
				}
				return {
					"left":x,
					"top":y
				}
			}
			
			//从视口坐标到文档坐标的转换
			var leftX = block.getBoundingClientRect().left + (document.body.scrollLeft || document.documentElement.scrollLeft);
			
			var topY = block.getBoundingClientRect().top + (document.body.scrollTop || document.documentElement.scrollTop);
		</script>
	</body>
</html>










