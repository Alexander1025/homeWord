<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			body {
				height: 2000px;
			}
			#goTop {
				position: fixed;
				right:10px;
				bottom:10px;
				width:50px;
				height:50px;
				color:#fff;
				background-color: blue;
			}
		</style>
	</head>
	<body id="body">
		<div>
			获取当前视口的宽高
			document.documentElement.clientWidth
			document.documentElement.clientHeight
		</div>
		<a href="javascript:void(0);" id="goTop">top</a>
		<script>
			var topBtn = document.getElementById("goTop");
			topBtn.onclick = function() {
//				document.body.scrollTop = 0;
//				document.documentElement.scrollTop = 0;
//				window.scrollTo(0,0);
				var start = document.body.scrollTop || document.documentElement.scrollTop;
				var end = 0;
				var change = end - start;
				var t = 0;
				var maxT = 30;
				var timer = setInterval(function() {
					t++;
					if(t >= maxT) {
						clearInterval(timer);
//						topBtn.style.display = "none";
					}
					document.body.scrollTop = change*t/maxT + start;
					document.documentElement.scrollTop = change*t/maxT + start;
//					if(document.body.scrollTop < document.documentElement.clientHeight) {
//						topBtn.style.display = "none";
//					}else {
//						topBtn.style.display = "block";
//					}
				},30)
				
			}
			
			window.onscroll = function() {
				if(document.body.scrollTop > 300){
					topBtn.style.display = "block";
				}else {
					topBtn.style.display = "none";
				}
				
			}
		</script>
	</body>
</html>







