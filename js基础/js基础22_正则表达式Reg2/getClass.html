<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>getClass</title>
	<style type="text/css">
	 	* {

	 	}
		.btn {
			color:red;
		}
	</style>
</head>
<body>
	<p class="a-btn alink">Lorem ipsum.</p>
	<a href="###" class="alink btn" id="link">link</a>
	<div class="btn" id="aaa">
		6.写一个通过class名获取元素的函数getClass(cname)，返回获取后的节点数组
	</div>
	<script type="text/javascript">
		// var link = document.getElementById("link");
		//获取classname 为cname的节点
		function getClass(cname) {
			// if(document.getElementsByClassName) {
			// 	return document.getElementsByClassName(cname);
			// }else {
				//遍历文档中所有的节点
				var allTag = document.getElementsByTagName("*");
				var arr = [];
				for(var i = 0; i < allTag.length; i++) {
					var reg = /([^-]|^)\bbtn\b(?!-)/;
								//如果正则表达式包含变量，使用new方式
					var reg = new RegExp("([^-]|^)\\b"+cname+"\\b(?!-)");
					// console.log(reg);
					if(reg.test(allTag[i].className)) {
						arr.push(allTag[i]);
					}
				}
				return arr;
			// }
		}
		//设置节点的classname
		function setClass(element, cname) {
			var reg = new RegExp("([^-]|^)\\b"+cname+"\\b(?!-)");
			//如果className中没有cname才添加
			if(!reg.test(element.className)) {
				if(element.className == "") {
					element.className = cname;
				}else {
					element.className = element.className + " " + cname;
				}
			}
		}
		//清除节点className
		function removeClass(element, cname) {
			if(cname) {
				var reg = new RegExp("([^-]|^)\\b"+cname+"\\b(?!-)");
				if(element.className != "") {
					element.className =	element.className.replace(reg,"");
				}
			}else {
				element.removeAttribute("class");
			}
		}
	</script>
</body>
</html>